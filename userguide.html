<h1>UserGuide.md - 사용자 가이드</h1>
<h2>시작하기</h2>
<p>Markdown to Document CLI는 마크다운 문서를 전문 출판 수준의 EPUB/PDF로 변환하는 도구입니다. 이 가이드를 통해 기본 사용법부터 고급 기능까지 학습할 수 있습니다.</p>
<h2>설치</h2>
<h3>방법 1: NPX로 바로 사용 (추천)</h3>
<p>설치 없이 바로 사용할 수 있습니다:</p>
<pre><code class="language-bash">npx markdown-to-document-cli@latest document.md
</code></pre>
<h3>방법 2: 전역 설치</h3>
<p>시스템 전체에서 사용하려면 전역 설치:</p>
<pre><code class="language-bash">npm install -g markdown-to-document-cli
</code></pre>
<p>설치 후 어디서든 <code>m2d</code> 명령어로 사용:</p>
<pre><code class="language-bash">m2d document.md
</code></pre>
<h3>방법 3: 프로젝트 로컬 설치</h3>
<p>프로젝트에만 설치:</p>
<pre><code class="language-bash">npm install markdown-to-document-cli
</code></pre>
<p><code>npx</code>로 실행:</p>
<pre><code class="language-bash">npx markdown-to-document-cli@latest document.md
</code></pre>
<h2>필수 요구사항</h2>
<h3>1. Node.js</h3>
<p>Node.js 18.0 이상이 필요합니다:</p>
<pre><code class="language-bash">node --version
</code></pre>
<h3>2. Pandoc</h3>
<p>Pandoc 2.19 이상이 필요합니다:</p>
<h4>macOS</h4>
<pre><code class="language-bash">brew install pandoc
</code></pre>
<h4>Windows</h4>
<pre><code class="language-bash">choco install pandoc
</code></pre>
<h4>Linux (Ubuntu/Debian)</h4>
<pre><code class="language-bash">sudo apt-get update
sudo apt-get install pandoc
</code></pre>
<h4>Linux (Fedora/RHEL)</h4>
<pre><code class="language-bash">sudo dnf install pandoc
</code></pre>
<p>설치 확인:</p>
<pre><code class="language-bash">pandoc --version
</code></pre>
<h3>3. WeasyPrint (선택사항, PDF 생성용)</h3>
<pre><code class="language-bash">pip install weasyprint
</code></pre>
<h2>📁 파일 경로 입력 방법</h2>
<h3>올바른 경로 입력 (권장)</h3>
<p><strong>방법 1: 드래그 앤 드롭</strong> (가장 쉬움)</p>
<ul>
<li>파일을 터미널 창으로 드래그하면 경로가 자동으로 입력됩니다</li>
<li>백슬래시나 따옴표 걱정 없이 사용 가능</li>
</ul>
<p><strong>방법 2: 절대 경로</strong></p>
<pre><code class="language-bash">m2d /Users/username/documents/my-document.md
</code></pre>
<p><strong>방법 3: 상대 경로</strong></p>
<pre><code class="language-bash">m2d ./docs/document.md
m2d ../project/README.md
</code></pre>
<h3>⚠️ 피해야 할 경로 입력</h3>
<pre><code class="language-bash"># ❌ 백슬래시 이스케이프가 포함된 경로
m2d /Users/username/My\ Documents/file.md

# ✅ 대신 이렇게 (따옴표 사용 또는 드래그 앤 드롭)
m2d &quot;/Users/username/My Documents/file.md&quot;
</code></pre>
<h3>자동 경로 정리 기능</h3>
<p>CLI가 자동으로 다음을 처리합니다:</p>
<ul>
<li>✅ 백슬래시 이스케이프 자동 제거</li>
<li>✅ 따옴표 자동 제거</li>
<li>✅ 공백이 포함된 경로 자동 처리</li>
<li>✅ 상대 경로를 절대 경로로 자동 변환</li>
<li>✅ 파일 존재 여부 확인 및 친절한 오류 메시지</li>
</ul>
<hr>
<h2>Interactive Mode (대화형 모드)</h2>
<h3>실행 방법</h3>
<pre><code class="language-bash">npx markdown-to-document-cli@latest interactive
# 또는
m2d i
</code></pre>
<h3>워크플로우</h3>
<p>Interactive Mode는 <strong>간소화된 3단계 워크플로우</strong>로 구성됩니다:</p>
<table>
<thead>
<tr>
<th>Step</th>
<th>내용</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Step 1</strong></td>
<td>📄 파일 선택</td>
<td>마크다운 파일 경로 입력</td>
</tr>
<tr>
<td><strong>Step 2</strong></td>
<td>🚀 모드 선택</td>
<td>변환 모드 선택 + 자동 문서 분석</td>
</tr>
<tr>
<td><strong>Step 3</strong></td>
<td>⚡ 변환 실행</td>
<td>자동 전처리 + 변환</td>
</tr>
</tbody></table>
<h3>2가지 변환 모드</h3>
<table>
<thead>
<tr>
<th>모드</th>
<th>설명</th>
<th>사용 시기</th>
</tr>
</thead>
<tbody><tr>
<td><strong>⚡ 빠른 변환</strong></td>
<td>출력 형식만 선택, 나머지 스마트 기본값</td>
<td>대부분의 경우 (권장)</td>
</tr>
<tr>
<td><strong>⚙️ 상세 설정</strong></td>
<td>프리셋, 테마, 제목/저자 직접 선택</td>
<td>세부 조정이 필요할 때</td>
</tr>
</tbody></table>
<h3>스마트 기능</h3>
<ul>
<li><strong>자동 문서 분석</strong>: Obsidian 문법, 이미지/표/코드 블록 자동 감지</li>
<li><strong>스마트 기본값</strong>: 분석 결과 기반 프리셋/테마 자동 추천</li>
<li><strong>메타데이터 추출</strong>: frontmatter에서 title/author 자동 감지</li>
<li><strong>자동 전처리</strong>: Obsidian 문법 감지 시 자동 최적화 적용</li>
</ul>
<h3>스마트 프리셋 추천</h3>
<p>문서 분석 결과에 따라 최적의 Typography Preset을 자동으로 추천합니다:</p>
<table>
<thead>
<tr>
<th>문서 특성</th>
<th>추천 프리셋</th>
</tr>
</thead>
<tbody><tr>
<td>이미지 10개 초과</td>
<td><code>image_heavy</code></td>
</tr>
<tr>
<td>표 5개 초과</td>
<td><code>table_heavy</code></td>
</tr>
<tr>
<td>코드 블록 10개 초과</td>
<td><code>manual</code></td>
</tr>
<tr>
<td>단어 10,000개 초과</td>
<td><code>text_heavy</code></td>
</tr>
<tr>
<td>기본</td>
<td><code>balanced</code></td>
</tr>
</tbody></table>
<hr>
<h2>타이포그래피 프리셋</h2>
<h3>프리셋 개요</h3>
<p>11가지 타이포그래피 프리셋을 제공하여 다양한 용도에 최적화된 출력을 생성합니다:</p>
<h4>Basic 프리셋</h4>
<table>
<thead>
<tr>
<th>프리셋</th>
<th>용도</th>
<th>폰트 크기</th>
<th>줄 간격</th>
<th>정렬</th>
</tr>
</thead>
<tbody><tr>
<td><strong>소설</strong></td>
<td>장편 소설, 에세이</td>
<td>16pt</td>
<td>1.8</td>
<td>양쪽 정렬</td>
</tr>
<tr>
<td><strong>발표</strong></td>
<td>프레젠테이션, 강의</td>
<td>18pt</td>
<td>1.6</td>
<td>왼쪽 정렬</td>
</tr>
<tr>
<td><strong>리뷰</strong></td>
<td>검토용 문서</td>
<td>15pt</td>
<td>1.7</td>
<td>왼쪽 정렬</td>
</tr>
<tr>
<td><strong>전자책</strong></td>
<td>일반 전자책</td>
<td>14pt</td>
<td>1.6</td>
<td>왼쪽 정렬</td>
</tr>
</tbody></table>
<h3>소설 프리셋</h3>
<p>장편 소설과 에세이에 최적화되어 있습니다:</p>
<ul>
<li><strong>세리프 폰트</strong>: Noto Serif CJK KR</li>
<li><strong>들여쓰기</strong>: 첫 문단 2em</li>
<li><strong>양쪽 정렬</strong>: 깔끔한 레이아웃</li>
<li><strong>하이픈 처리</strong>: 단어 끊기 활성화</li>
<li><strong>페이지 나누기</strong>: 제목에서 페이지 나눔 방지</li>
</ul>
<pre><code class="language-bash">m2d novel.md --typography novel
</code></pre>
<h3>발표 프리셋</h3>
<p>프레젠테이션과 강의 자료에 적합합니다:</p>
<ul>
<li><strong>산세리프 폰트</strong>: Noto Sans CJK KR</li>
<li><strong>큰 글씨</strong>: 18pt 기본 크기</li>
<li><strong>넓은 여백</strong>: 30mm 상하 여백</li>
<li><strong>제목 강조</strong>: H1-H2에 밑줄 추가</li>
<li><strong>왼쪽 정렬</strong>: 가독성 향상</li>
</ul>
<pre><code class="language-bash">m2d presentation.md --typography presentation
</code></pre>
<h3>리뷰 프리셋</h3>
<p>기술 문서와 검토용 자료에 적합합니다:</p>
<ul>
<li><strong>산세리프 폰트</strong>: Noto Sans CJK KR</li>
<li><strong>코드 강조</strong>: 코드 블록 배경색</li>
<li><strong>인용구 스타일</strong>: 왼쪽 테두리</li>
<li><strong>촘촘한 레이아웃</strong>: 정보 밀도 높임</li>
</ul>
<pre><code class="language-bash">m2d review.md --typography review
</code></pre>
<h3>전자책 프리셋</h3>
<p>일반 전자책 리더에 최적화되어 있습니다:</p>
<ul>
<li><strong>산세리프 폰트</strong>: Noto Sans CJK KR</li>
<li><strong>균형잡힌 레이아웃</strong>: 14pt, 1.6 줄 간격</li>
<li><strong>페이지 나누기</strong>: 최적화</li>
<li><strong>이미지 캡션</strong>: 중앙 정렬, 이탤릭체</li>
</ul>
<pre><code class="language-bash">m2d ebook.md --typography ebook
</code></pre>
<h2>폰트 서브세팅</h2>
<h3>개요</h3>
<p>FontSubsetter는 문서에 실제 사용된 문자만 포함하여 폰트 크기를 최대 99% 감소시킵니다.</p>
<h3>장점</h3>
<ul>
<li><strong>파일 크기 감소</strong>: 전체 폰트 대비 99% 크기 감소</li>
<li><strong>빠른 로딩</strong>: 작은 파일 크기로 빠른 로딩</li>
<li><strong>캐싱</strong>: 재사용을 위한 폰트 캐시</li>
<li><strong>다양한 형식</strong>: WOFF2, TTF, OTF 지원</li>
</ul>
<h3>사용법</h3>
<pre><code class="language-bash">m2d document.md --font-subsetting
</code></pre>
<h3>작동 방식</h3>
<ol>
<li>문서 내 모든 문자 추출</li>
<li>사용된 문자만 포함하여 폰트 서브셋 생성</li>
<li>WOFF2 형식으로 변환</li>
<li>캐시에 저장하여 재사용</li>
</ol>
<h3>캐시 관리</h3>
<p>캐시는 기본적으로 프로젝트 내 <code>.font-cache</code> 디렉토리에 저장됩니다.</p>
<h2>고급 기능</h2>
<h3>동적 CSS 생성</h3>
<p>TypographyService는 타이포그래피 프리셋을 기반으로 동적으로 CSS를 생성합니다:</p>
<ul>
<li><strong>루트 스타일</strong>: 폰트 크기, 줄 간격</li>
<li><strong>본문 스타일</strong>: 폰트 패밀리, 정렬, 하이픈</li>
<li><strong>페이지 스타일</strong>: 여백, 크기 (PDF)</li>
<li><strong>단락 스타일</strong>: 간격, 들여쓰기</li>
<li><strong>제목 스타일</strong>: 크기, 여백, 폰트 두께</li>
</ul>
<h3>커스텀 CSS</h3>
<p>자신만의 CSS를 추가할 수 있습니다:</p>
<pre><code class="language-bash">m2d document.md --css custom.css
</code></pre>
<p>커스텀 CSS는 타이포그래피 프리셋 CSS 뒤에 적용됩니다.</p>
<h3>한국어 폰트 지원</h3>
<p>기본 한국어 폰트 스택:</p>
<ul>
<li><strong>세리프</strong>: Noto Serif CJK KR, Noto Serif KR, Batang, 바탕</li>
<li><strong>산세리프</strong>: Noto Sans CJK KR, Noto Sans KR, Malgun Gothic, 맑은 고딕</li>
<li><strong>모노스페이스</strong>: Noto Sans Mono CJK KR, D2Coding</li>
</ul>
<h2>기본 사용법</h2>
<h3>첫 번째 변환</h3>
<pre><code class="language-bash">m2d my-document.md
</code></pre>
<p>이 명령은:</p>
<ol>
<li><code>my-document.md</code> 파일을 읽습니다</li>
<li>콘텐츠를 검증하고 자동 수정합니다</li>
<li>타이포그래피 프리셋 CSS를 생성합니다</li>
<li>EPUB + PDF 파일을 생성합니다 (<code>my-document.epub</code>, <code>my-document.pdf</code>)</li>
</ol>
<h3>PDF 변환</h3>
<pre><code class="language-bash">m2d my-document.md --format pdf
</code></pre>
<h3>EPUB + PDF 동시 변환</h3>
<pre><code class="language-bash">m2d my-document.md --format both
</code></pre>
<h2>옵션 상세</h2>
<h3>출력 형식 (<code>-f, --format</code>)</h3>
<pre><code class="language-bash">m2d document.md --format epub    # EPUB만
m2d document.md --format pdf     # PDF만
m2d document.md --format both    # 둘 다
</code></pre>
<h3>출력 디렉토리 (<code>-o, --output</code>)</h3>
<pre><code class="language-bash">m2d document.md --output ./dist
</code></pre>
<h3>타이포그래피 프리셋 (<code>-t, --typography</code>)</h3>
<pre><code class="language-bash">m2d document.md --typography auto          # 자동 추천 (기본값)
m2d document.md --typography novel         # 소설
m2d document.md --typography presentation  # 발표
m2d document.md --typography review        # 리뷰
m2d document.md --typography ebook         # 전자책
</code></pre>
<h3>표지 테마 (<code>-c, --cover</code>)</h3>
<p>자동으로 전문적인 책 표지를 생성합니다:</p>
<pre><code class="language-bash">m2d document.md --cover apple            # Apple 스타일 (깔끔함)
m2d document.md --cover modern_gradient  # 현대적인 그라데이션
m2d document.md --cover dark_tech        # 어두운 테크 스타일
m2d document.md --cover nature           # 자연 친화적 디자인
</code></pre>
<ul>
<li><strong>EPUB</strong>: 고품질 SVG 이미지가 표지로 삽입됩니다.</li>
<li><strong>PDF</strong>: 문서의 가장 첫 페이지에 전면 HTML 표지가 생성됩니다.</li>
</ul>
<p>사용 가능한 테마 목록:</p>
<pre><code class="language-bash">m2d list-themes
</code></pre>
<h3>검증 옵션</h3>
<pre><code class="language-bash"># 검증 건너뛰기
m2d document.md --no-validate

# 자동 수정 비활성화
m2d document.md --no-auto-fix
</code></pre>
<h3>목차 옵션</h3>
<pre><code class="language-bash"># 목차 깊이 설정
m2d document.md --toc-depth 3

# 목차 비활성화
m2d document.md --no-toc
</code></pre>
<h3>PDF 옵션</h3>
<pre><code class="language-bash"># PDF 엔진 선택
m2d document.md --format pdf --pdf-engine auto
m2d document.md --format pdf --pdf-engine weasyprint
m2d document.md --format pdf --pdf-engine pdflatex
m2d document.md --format pdf --pdf-engine xelatex

# 용지 크기
m2d document.md --format pdf --paper-size a4
m2d document.md --format pdf --paper-size letter
</code></pre>
<h3>고급 옵션</h3>
<pre><code class="language-bash"># 폰트 서브세팅 (파일 크기 감소)
m2d document.md --font-subsetting

# 커스텀 CSS
m2d document.md --css ./custom.css

# 커스텀 Pandoc 경로
m2d document.md --pandoc-path /usr/local/bin/pandoc

# 상세 로그
m2d document.md --verbose
</code></pre>
<h2>인터랙티브 모드</h2>
<p>인터랙티브 모드는 사용자 친화적인 프롬프트를 통해 변환 옵션을 선택할 수 있습니다:</p>
<pre><code class="language-bash">m2d interactive
# 또는
m2d i
</code></pre>
<h3>기능</h3>
<ul>
<li>✅ <strong>따옴표 자동 제거</strong>: 파일 경로의 따옴표를 자동으로 제거하여 복사-붙여넣기 편의성 향상</li>
<li>🎨 <strong>색상 코딩된 프롬프트</strong>: 각 질문에 이모지와 색상으로 시각적 개선</li>
<li>📊 <strong>개선된 스피너</strong>: 변환 진행 상황을 더 명확하게 표시</li>
<li>📦 <strong>더 나은 출력 포맷팅</strong>: 결과를 구분선으로 구분하여 가독성 향상</li>
<li>📖 <strong>책 제목/저자명 직접 입력</strong>: 자동 감지된 메타데이터 대신 직접 입력 가능</li>
</ul>
<h3>사용 예시</h3>
<p>단계별 질문에 답하면 됩니다:</p>
<pre><code>────────────────────────────────────────────────────────────
  Markdown to Document - Interactive Mode
────────────────────────────────────────────────────────────

? 📄 Input markdown file path: ./my-document.md
? 📖 책 제목 (Enter=자동): My Custom Title
? ✍️  저자 (Enter=자동): John Doe
? 📤 Output format: � Both EPUB and PDF
? 🎨 Typography preset: Balanced - 균형 레이아웃
? 🖼️  Cover theme (optional): None
? 🔍 Enable content validation? Yes
? 🔧 Enable auto-fix for detected issues? Yes
? 📁 Output directory (leave empty for same as input): ./output

────────────────────────────────────────────────────────────

⚙️  Initializing...
✅ Initialized successfully

🔄 Converting document...
✅ Conversion completed!

────────────────────────────────────────────────────────────

📦 Output Files:

  📖 EPUB:  ./output/My Custom Title.epub

────────────────────────────────────────────────────────────

🎉 Conversion successful!
</code></pre>
<h3>팁</h3>
<ul>
<li>파일 경로를 복사할 때 따옴표가 포함되어도 자동으로 처리됩니다</li>
<li>터미널에서 파일을 드래그 앤 드롭하여 경로를 입력할 수 있습니다</li>
<li>책 제목과 저자명을 직접 입력하면 자동 감지된 값을 대체합니다</li>
<li>빈 값으로 두면 자동 감지된 메타데이터를 사용합니다</li>
<li>모든 질문에 기본값이 제공되므로 Enter 키만 눌러도 됩니다</li>
</ul>
<h2>YAML Frontmatter</h2>
<p>문서 상단에 메타데이터를 추가할 수 있습니다:</p>
<pre><code class="language-yaml">---
title: 문서 제목
subtitle: 부제목
author: 저자명
language: ko
date: 2025-01-05
description: 문서 설명
isbn: 978-0-1234-5678-9
publisher: 출판사명
---

# 문서 내용
</code></pre>
<h3>필드 설명</h3>
<table>
<thead>
<tr>
<th>필드</th>
<th>설명</th>
<th>필수 여부</th>
</tr>
</thead>
<tbody><tr>
<td><code>title</code></td>
<td>문서 제목</td>
<td>아니오 (파일명 사용)</td>
</tr>
<tr>
<td><code>subtitle</code></td>
<td>부제목</td>
<td>아니오</td>
</tr>
<tr>
<td><code>author</code></td>
<td>저자명</td>
<td>아니오</td>
</tr>
<tr>
<td><code>language</code></td>
<td>언어 코드</td>
<td>아니오 (기본값: ko)</td>
</tr>
<tr>
<td><code>date</code></td>
<td>날짜</td>
<td>아니오 (오늘 날짜 사용)</td>
</tr>
<tr>
<td><code>description</code></td>
<td>설명</td>
<td>아니오</td>
</tr>
<tr>
<td><code>isbn</code></td>
<td>ISBN</td>
<td>아니오</td>
</tr>
<tr>
<td><code>publisher</code></td>
<td>출판사</td>
<td>아니오</td>
</tr>
</tbody></table>
<h2>타이포그래피 프리셋 상세</h2>
<h3>소설 (Novel)</h3>
<p><strong>사용 사례</strong>: 장편 소설, 에세이, 문학 작품</p>
<p><strong>특징</strong>:</p>
<ul>
<li>폰트 크기: 16pt</li>
<li>줄 간격: 1.8</li>
<li>정렬: 양쪽 정렬</li>
<li>들여쓰기: 있음</li>
<li>폰트: Noto Serif CJK KR (명조체)</li>
</ul>
<p><strong>예시</strong>:</p>
<pre><code class="language-bash">m2d novel.md --typography novel
</code></pre>
<h3>발표 (Presentation)</h3>
<p><strong>사용 사례</strong>: 프레젠테이션, 강의 자료, 슬라이드</p>
<p><strong>특징</strong>:</p>
<ul>
<li>폰트 크기: 18pt</li>
<li>줄 간격: 1.6</li>
<li>정렬: 왼쪽 정렬</li>
<li>여백: 넓음</li>
<li>폰트: Noto Sans CJK KR (고딕체)</li>
</ul>
<p><strong>예시</strong>:</p>
<pre><code class="language-bash">m2d slides.md --typography presentation
</code></pre>
<h3>리뷰 (Review)</h3>
<p><strong>사용 사례</strong>: 검토용 문서, 기술 문서, 보고서</p>
<p><strong>특징</strong>:</p>
<ul>
<li>폰트 크기: 11pt</li>
<li>줄 간격: 1.4</li>
<li>정렬: 왼쪽 정렬</li>
<li>레이아웃: 촘촘함</li>
<li>폰트: Noto Sans CJK KR (고딕체)</li>
</ul>
<p><strong>예시</strong>:</p>
<pre><code class="language-bash">m2d review.md --typography review
</code></pre>
<h3>전자책 (Ebook)</h3>
<p><strong>사용 사례</strong>: 일반 전자책, 가이드북, 매뉴얼</p>
<p><strong>특징</strong>:</p>
<ul>
<li>폰트 크기: 14pt</li>
<li>줄 간격: 1.6</li>
<li>정렬: 양쪽 정렬</li>
<li>레이아웃: 균형잡힘</li>
<li>폰트: Noto Sans CJK KR (고딕체)</li>
</ul>
<p><strong>예시</strong>:</p>
<pre><code class="language-bash">m2d ebook.md --typography ebook
</code></pre>
<h2>검증 기능</h2>
<h3>자동 검증</h3>
<p>기본적으로 8개 검증 모듈이 자동으로 실행됩니다:</p>
<ol>
<li><strong>Frontmatter 검증</strong>: YAML 구문 오류</li>
<li><strong>제목 검증</strong>: H1 중복, 레벨 갭</li>
<li><strong>링크 검증</strong>: Obsidian 링크, 빈 URL</li>
<li><strong>이미지 검증</strong>: alt 텍스트, 파일 형식</li>
<li><strong>표 검증</strong>: 열 일관성</li>
<li><strong>구문 검증</strong>: 닫히지 않은 코드 블록</li>
<li><strong>특수문자 검증</strong>: 이모지, ASCII 다이어그램</li>
<li><strong>접근성 검증</strong>: H1 존재, 긴 문단</li>
</ol>
<h3>자동 수정</h3>
<p>기본적으로 자동 수정이 활성화됩니다:</p>
<ul>
<li>Obsidian 링크 → 표준 마크다운 링크</li>
<li>닫히지 않은 코드 블록 자동 닫기</li>
</ul>
<h3>검증 리포트</h3>
<p>변환 완료 후 검증 리포트가 표시됩니다:</p>
<pre><code>📊 Validation Report:
  ✅ Fixed: 5 issues
  ⚠️  Warnings: 2
  ❌ Errors: 0
</code></pre>
<h2>이미지 처리</h2>
<h3>이미지 경로</h3>
<p>이미지는 다음 위치에서 자동으로 검색됩니다:</p>
<ol>
<li>마크다운 파일과 동일한 디렉토리</li>
<li><code>images/</code> 폴더</li>
<li><code>attachments/</code> 폴더</li>
<li><code>assets/</code> 폴더</li>
<li><code>media/</code> 폴더</li>
</ol>
<h3>이미지 형식</h3>
<p>지원하는 형식:</p>
<ul>
<li>PNG</li>
<li>JPG/JPEG</li>
<li>GIF</li>
<li>SVG</li>
<li>WebP</li>
</ul>
<h3>이미지 참조</h3>
<pre><code class="language-markdown">&lt;!-- 표준 마크다운 --&gt;
![이미지 설명](./images/photo.png)

&lt;!-- Obsidian 문법 (자동 변환됨) --&gt;
![[photo.png]]
![[photo.png|이미지 설명]]
</code></pre>
<h2>프로그래밍 방식 사용</h2>
<p>Node.js 코드에서 직접 사용할 수 있습니다:</p>
<pre><code class="language-javascript">import { MarkdownToDocument } from &#39;markdown-to-document-cli&#39;;

const converter = new MarkdownToDocument();

// 초기화
const initResult = await converter.initialize();
if (!initResult.success) {
  console.error(initResult.error);
  process.exit(1);
}

// 변환
const result = await converter.convert({
  inputPath: &#39;./document.md&#39;,
  outputPath: &#39;./output&#39;,
  format: &#39;both&#39;,
  typographyPreset: &#39;balanced&#39;,
  validateContent: true,
  autoFix: true,
});

if (result.success) {
  console.log(&#39;변환 성공!&#39;, result.epubPath);
} else {
  console.error(&#39;변환 실패:&#39;, result.errors);
}
</code></pre>
<h2>실전 예제</h2>
<h3>예제 1: 소설 EPUB 변환</h3>
<pre><code class="language-bash">m2d my-novel.md \
  --format epub \
  --typography novel \
  --output ./books
</code></pre>
<h3>예제 2: 발표용 PDF</h3>
<pre><code class="language-bash">m2d presentation.md \
  --format pdf \
  --typography presentation \
  --pdf-engine weasyprint \
  --paper-size a4
</code></pre>
<h3>예제 3: 기술 문서 (EPUB + PDF)</h3>
<pre><code class="language-bash">m2d technical-doc.md \
  --format both \
  --typography review \
  --output ./docs \
  --toc-depth 3
</code></pre>
<h3>예제 4: 검증 없이 빠르게 변환</h3>
<pre><code class="language-bash">m2d quick-document.md \
  --format epub \
  --no-validate \
  --no-auto-fix
</code></pre>
<h3>예제 5: 커스텀 CSS 적용</h3>
<pre><code class="language-bash">m2d styled-doc.md \
  --format epub \
  --css ./custom-styles.css
</code></pre>
<h2>팁과 모범 사례</h2>
<h3>1. 파일 명명</h3>
<p>의미 있는 파일명 사용:</p>
<pre><code class="language-bash"># 좋은 예
m2d 2025-01-05-technical-guide.md

# 피해야 할 예
m2d doc.md
</code></pre>
<h3>2. 디렉토리 구조</h3>
<pre><code>project/
├── documents/
│   ├── chapter1.md
│   ├── chapter2.md
│   └── images/
│       ├── diagram1.png
│       └── diagram2.png
├── output/
└── custom.css
</code></pre>
<h3>3. YAML Frontmatter 사용</h3>
<p>항상 frontmatter 추가:</p>
<pre><code class="language-yaml">---
title: 명확한 제목
author: 저자명
date: 2025-01-05
---
</code></pre>
<h3>4. 이미지 alt 텍스트</h3>
<p>항상 alt 텍스트 추가:</p>
<pre><code class="language-markdown">![시스템 아키텍처 다이어그램](./architecture.png)
</code></pre>
<h3>5. 제목 구조</h3>
<p>계층적 제목 사용:</p>
<pre><code class="language-markdown"># H1 (문서당 하나만)

## H2

### H3

#### H4
</code></pre>
<h2>유틸리티 명령어</h2>
<h3>프리셋 목록</h3>
<pre><code class="language-bash">m2d list-presets
</code></pre>
<h3>테마 목록</h3>
<pre><code class="language-bash">m2d list-themes
</code></pre>
<h3>의존성 확인 (권장)</h3>
<p>변환을 시작하기 전에 필요한 도구들이 모두 설치되어 있는지 확인하세요:</p>
<pre><code class="language-bash">m2d check
</code></pre>
<p><strong>자동으로 확인하는 항목</strong>:</p>
<ul>
<li>✅ Node.js (필수)</li>
<li>✅ Pandoc (필수)</li>
<li>✅ PDF 엔진: WeasyPrint, XeLaTeX, PDFLaTeX 중 최소 1개</li>
<li>⚪ Python (WeasyPrint 사용 시 필요)</li>
</ul>
<p><strong>설치되지 않은 도구가 있으면</strong>:</p>
<ul>
<li>플랫폼별(macOS, Linux, Windows) 맞춤 설치 명령어 제공</li>
<li>복사해서 바로 사용할 수 있는 명령어</li>
<li>각 도구의 역할 설명</li>
</ul>
<h2>도움말</h2>
<pre><code class="language-bash">m2d --help
</code></pre>
<hr>
<h2>🔧 문제 해결</h2>
<h3>PDF 변환 실패: &quot;xelatex not found&quot; 또는 &quot;PDF 엔진을 찾을 수 없습니다&quot;</h3>
<p><strong>🤔 왜 이런 오류가 나올까요?</strong></p>
<p>PDF를 만들려면 **&quot;PDF 제작 엔진&quot;**이 필요합니다. 마치 빵을 굽기 위해 오븐이 필요한 것처럼요!</p>
<p>이 오류는 &quot;오븐이 없어서 빵을 구울 수 없어요&quot;라는 뜻입니다. 아래 방법 중 하나를 선택해서 해결하세요.</p>
<h4>옵션 1: WeasyPrint 설치 (추천 ⭐)</h4>
<p><strong>가장 쉽고 빠른 방법!</strong> 한글도 완벽하게 지원합니다.</p>
<pre><code class="language-bash"># Python pip 사용
pip install weasyprint

# 또는 Python 3
pip3 install weasyprint
</code></pre>
<p>💡 <strong>Python이 없다면?</strong> <a href="https://www.python.org/downloads/">python.org</a>에서 먼저 설치하세요.</p>
<p>⚠️ <strong>Windows 사용자 필수</strong>: WeasyPrint는 GTK 런타임이 필요합니다!</p>
<pre><code class="language-powershell"># 1. MSYS2 설치: https://www.msys2.org/
# 2. MSYS2 UCRT64 터미널에서:
pacman -S mingw-w64-ucrt-x86_64-gtk3

# 3. PATH에 C:\msys64\ucrt64\bin 추가
</code></pre>
<p>자세한 내용: <a href="./TroubleShooting.md#%EB%AC%B8%EC%A0%9C-weasyprint-cannot-load-library-libgobject-%EC%98%A4%EB%A5%98-windows">TroubleShooting.md</a></p>
<h4>옵션 2: XeLaTeX 설치 (한글 최적화)</h4>
<p><strong>한글 폰트를 아름답게!</strong> 전문 출판 수준의 품질을 원한다면 이걸로!</p>
<pre><code class="language-bash"># macOS (Homebrew)
brew install --cask basictex
# 설치 후 PATH 업데이트
eval &quot;$(/usr/libexec/path_helper)&quot;

# 또는 전체 TeX Live 설치
brew install --cask mactex

# Linux (Ubuntu/Debian)
sudo apt-get install texlive-xetex texlive-fonts-recommended

# Linux (Fedora)
sudo dnf install texlive-xetex
</code></pre>
<p>⚠️ <strong>중요</strong>: 설치 후 터미널을 다시 시작하세요!</p>
<h4>옵션 3: PDFLaTeX 설치</h4>
<pre><code class="language-bash"># macOS
brew install --cask basictex

# Linux (Ubuntu/Debian)
sudo apt-get install texlive-latex-base
</code></pre>
<h4>✓ 설치 확인하기</h4>
<p>오븐이 제대로 설치되었는지 확인해 봅시다:</p>
<pre><code class="language-bash"># WeasyPrint 확인
weasyprint --version

# XeLaTeX 확인
xelatex --version

# PDFLaTeX 확인
pdflatex --version
</code></pre>
<p>버전 번호가 나오면 성공! 🎉</p>
<h4>💡 프로 팁: 특정 엔진 지정하기</h4>
<p>여러 개를 설치했다면, 원하는 엔진을 직접 선택할 수 있습니다:</p>
<pre><code class="language-bash"># 자동 선택 (기본값 - 권장)
m2d document.md --pdf-engine auto

# WeasyPrint로 PDF 만들기
m2d document.md --pdf-engine weasyprint

# XeLaTeX로 PDF 만들기
m2d document.md --pdf-engine xelatex

# PDFLaTeX로 PDF 만들기
m2d document.md --pdf-engine pdflatex
</code></pre>
<h3>Pandoc을 찾을 수 없음</h3>
<pre><code class="language-bash"># Pandoc 설치 확인
pandoc --version

# 커스텀 경로 지정
m2d document.md --pandoc-path /path/to/pandoc
</code></pre>
<p><strong>설치 방법</strong>:</p>
<ul>
<li>macOS: <code>brew install pandoc</code></li>
<li>Windows: <code>choco install pandoc</code></li>
<li>Linux: <code>sudo apt-get install pandoc</code></li>
</ul>
<h3>이미지를 찾을 수 없음</h3>
<p>이미지 파일이 마크다운 파일과 동일한 디렉토리 또는 <code>images/</code>, <code>attachments/</code>, <code>assets/</code>, <code>media/</code> 폴더에 있는지 확인하세요.</p>
<p><strong>지원하는 이미지 형식</strong>: PNG, JPG/JPEG, GIF, SVG, WebP</p>
<h3>📚 더 많은 문제 해결</h3>
<p>이미지 오류, 한글 깨짐, 검증 문제 등 다양한 상황에 대한 해결책은 <a href="./TroubleShooting.md">TroubleShooting.md</a>를 참고하세요.</p>
<hr>
<h2>다음 단계</h2>
<ul>
<li><a href="TroubleShooting.md">TroubleShooting.md</a> - 문제 해결 가이드</li>
<li><a href="Project.md">Project.md</a> - 프로젝트 문서</li>
<li><a href="CHANGELOG.md">CHANGELOG.md</a> - 변경 로그</li>
<li><a href="https://github.com/goodlookingprokim/markdown-to-document-cli">GitHub Repository</a> - 소스 코드</li>
</ul>
<hr>
<p><strong>마지막 업데이트</strong>: 2026-01-06 (v1.2.7)</p>

